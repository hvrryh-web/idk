# Patch ID: PATCH-20251212-001

**Date**: 2025-12-12
**Category**: DOCS
**Status**: ACTIVE

## Summary
Unified SRD Alpha v0.3 - Comprehensive system reference document combining all alpha patches with complete mechanical systems.

## Changes

### Documentation
- **NEW**: `docs/wuxiaxian-reference/SRD_UNIFIED.md` - Unified SRD combining all patches
- **NEW**: Patch notes history section within unified SRD
- **NEW**: Live patch indicator system for tracking current version

### Mechanical Systems Added

#### CL/SL/SCL Ladder
- Complete Soul Core Level calculation formula
- Core Level (CL) from Body/Mind/Soul Core stats
- Soul Level (SL) from Control/Fate/Spirit stats
- SCL = CL + SL with Sequence Band mapping

#### Cap System (M&M-style rescaled)
- OffCap formula: `4 × SCL` (base)
- DefCap formula: `4 × SCL` (base)
- Individual stat caps: `SCL + 2`
- Power Draws Blood (PDB) profiles for cap shifts

#### Power Draws Blood Profiles
- **Balanced**: OffCap = 4×SCL, DefCap = 4×SCL
- **Blood-Forward**: OffCap = 4×SCL+2, DefCap = 4×SCL-2
- **Ward-Forward**: OffCap = 4×SCL-2, DefCap = 4×SCL+2

#### Layered Durability Model
- Resolve Charges (PRC/MRC/SRC) as damage buffer
- DR Tiers (0-6) with percentage reduction
- Knockout Save triggers when charges depleted
- Data-driven tuning constants

#### Meta-Currencies
- **Fury**: Violence resource, resets per encounter
- **Clout**: Influence resource, persists between encounters
- **Insight**: Revelation resource, persists with danger threshold

#### Cost Tracks
- **Blood Track**: Physical strain
- **Fate Track**: Destiny debt
- **Stain Track**: Corruption
- Box counts derived from SCL
- Threshold consequences at 25%/50%/75%/100%

#### Boss Scaling
- Boss Ranks 1-5 with multipliers
- Health multipliers: 1.5× to 5.0×
- DR profiles by rank
- Multi-stage support for Ranks 4-5 (2-3 phases)
- Boss builder helper function specification

#### OVR/DVR System
- OVR (Offense Value Rating) - HERO OCV analogue
- DVR (Defense Value Rating) - HERO DCV analogue
- Per-pillar calculation
- Within-band tradeoffs (+2/-2)

### SCP Point-Buy System
- Total SCP = 30 × SCL formula
- Stat costs: 2 SCP per Primary rank, 3 SCP per Aether rank
- Technique costs loaded from Effects data
- Flaw discounts with track marking hooks

## Affected Systems

### Documentation
- SRD Alpha series unified into single document
- Patch notes index updated
- Cross-references consolidated

### Future Backend Integration
- SRD constants module specification
- Validation utilities specification
- Combat engine integration points identified

## Technical Specifications

### Data-Driven Constants (from SRD)
```yaml
# For backend/app/core/srd_constants.py

scl_formulas:
  cl: "floor((body_core + mind_core + soul_core) / 3)"
  sl: "floor((control + fate + spirit) / 3)"
  scl: "cl + sl"

cap_formulas:
  off_cap_balanced: "4 * scl"
  def_cap_balanced: "4 * scl"
  blood_forward_offset: 2
  ward_forward_offset: 2
  individual_cap: "scl + 2"

scp_budget:
  formula: "30 * scl"
  primary_stat_cost: 2
  aether_stat_cost: 3

durability:
  dr_tiers: [0.0, 0.1, 0.2, 0.3, 0.4, 0.5]
  knockout_threshold_base: 5

meta_currencies:
  fury_max: 10
  clout_max: 10
  insight_max: 10
  insight_danger_threshold: 8

cost_tracks:
  base_boxes: "5 + floor(scl / 2)"
  thresholds: [0.25, 0.50, 0.75, 1.0]

boss_scaling:
  thp_multipliers: [1.5, 2.0, 3.0, 4.0, 5.0]
  resolve_charges: [3, 5, 8, 12, 15]
  action_counts: [1, 2, 3, 3, 4]
  phases: [1, 1, 1, 2, 3]
```

## Testing Notes

### Documentation Verification
1. All section links functional in unified SRD
2. Formulas consistent across sections
3. Patch history accurately reflects changes
4. Terminology consistent (OVR/DVR, SCP, etc.)

### Integration Preparation
1. SRD constants ready for extraction to Python module
2. Validation rules documented for implementation
3. Combat engine integration points identified

## Migration Notes

### No Breaking Changes
This patch adds documentation only. Existing code functionality unchanged.

### Future Integration Required
- Backend needs SRD constants module
- Character model needs SRD-aligned stat calculation
- Combat engine needs DR tier and Resolve Charge logic

## Related Patches
- PATCH-20251210-001 (Combat UI Implementation) - Combat systems this SRD documents
- ALPHA-0.1-20251210 (SRD Patch 0.1) - Original sections 0-2
- ALPHA-0.2-20251210 (SRD Patch 0.2) - Original sections 3-4

## Future Enhancements
- Backend SRD constants module
- Character validation against SRD caps
- Combat engine DR/Resolve integration
- Frontend SRD viewer component
- Technique effects from SoulCore spreadsheet
